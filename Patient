{"openapi":"3.0.1","info":{"title":"Patient API definition"},"servers":[{"url":"https://api.soteria.healthcare"}],"tags":[{"name":"Patient Service","description":"The patient API for retrieving patient data"}],"paths":{"/patients/{patientToken}/ccd":{"get":{"tags":["Patient Service"],"summary":"Get patient CCD by the patient's token","operationId":"patientCcdByToken","parameters":[{"name":"patientToken","in":"path","description":"Patient token from /patients/id-number/token or /patients/demographics/token","required":true,"schema":{"maxLength":512,"minLength":0,"type":"string"},"example":"eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJmZjgwODA4MTc3ZjBiZDBjMDE3N2YzYzFmYzc4MDIzMiIsImV4cCI6MTY1ODUwNDAyOH0.aHabbztmAycxKeGjQbtWsu7WxYcsoem4jgkjsi5Da8Kws673XELMLvTsNw3dvUs1"},{"name":"fromDate","in":"query","description":"From Date for CCD in the format CCYY-MM-DD","required":true,"schema":{"type":"string"},"example":"2001-12-20"},{"name":"toDate","in":"query","description":"To Date for CCD in the format CCYY-MM-DD","required":true,"schema":{"type":"string"},"example":"2022-12-20"}],"responses":{"500":{"description":"Internal error. Try again later","content":{}},"400":{"description":"Invalid input parameters or patientToken expired"},"204":{"description":"Patient has no completed visits within the specified date range"},"401":{"description":"Not authorised"},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PatientCcdResponse"},"example":{"ccd":"<?xml version=\"1.0\" ?>\n<test>hello world test</test>"}}}},"404":{"description":"Patient not found"}}}},"/patients/id-number/token":{"get":{"tags":["Patient Service"],"summary":"Get patient token by the patient's Social Security Number","operationId":"patientTokenByIDNumber","parameters":[{"name":"type","in":"query","description":"Type of ID Number\n\nAllowed value: 'IDNUMBER_TYPE_SOCIAL_SECURITY_NUMBER' for SSN","required":true,"schema":{"pattern":"^IDNUMBER_TYPE_SOCIAL_SECURITY_NUMBER$","type":"string"},"example":"IDNUMBER_TYPE_SOCIAL_SECURITY_NUMBER"},{"name":"id","in":"query","description":"Social Security Number to be searched\n\nThis should be 9 digits with no hyphens","required":true,"schema":{"maxLength":30,"minLength":0,"type":"string"},"example":123456789}],"responses":{"500":{"description":"Internal error. Try again later","content":{}},"412":{"description":"Patient not uniquely identified"},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PatientSelectionResponseToken"},"example":{"patientToken":"eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJmZjgwODA4MTc3ZjBiZDBjMDE3N2YzYzFmYzc4MDIzMiIsImV4cCI6MTY1ODUwNDAyOH0.aHabbztmAycxKeGjQbtWsu7WxYcsoem4jgkjsi5Da8Kws673XELMLvTsNw3dvUs1"}}}},"400":{"description":"Invalid input parameters"},"401":{"description":"Not authorised"},"404":{"description":"Patient not found"}}}},"/patients/demographics/token":{"get":{"tags":["Patient Service"],"summary":"Get patient token by the patient's demographics.\n\nAll 4 fields must match a patient exactly to get a patient token.","operationId":"patientTokenByDemographics","parameters":[{"name":"firstName","in":"query","description":"First name of patient","required":true,"schema":{"maxLength":250,"minLength":0,"type":"string"},"example":"JOHN"},{"name":"lastName","in":"query","description":"Last name of patient","required":true,"schema":{"maxLength":250,"minLength":0,"type":"string"},"example":"DOE"},{"name":"dob","in":"query","description":"Date of birth of patient in the format CCYY-MM-DD","required":true,"schema":{"type":"string"},"example":"2001-12-20"},{"name":"birthSex","in":"query","description":"Birth Sex of patient.  M for Male, F or Female, U for Unknown","required":true,"schema":{"pattern":"^[FMU]$","type":"string"},"example":"M"}],"responses":{"500":{"description":"Internal error. Try again later","content":{}},"412":{"description":"Patient not uniquely identified"},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PatientSelectionResponseToken"},"example":{"patientToken":"eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJmZjgwODA4MTc3ZjBiZDBjMDE3N2YzYzFmYzc4MDIzMiIsImV4cCI6MTY1ODUwNDAyOH0.aHabbztmAycxKeGjQbtWsu7WxYcsoem4jgkjsi5Da8Kws673XELMLvTsNw3dvUs1"}}}},"400":{"description":"Invalid input parameters"},"401":{"description":"Not authorised"},"404":{"description":"Patient not found"}}}}},"components":{"schemas":{"PatientCcdResponse":{"type":"object","properties":{"ccd":{"type":"string"}}},"PatientSelectionResponseToken":{"type":"object","properties":{"patientToken":{"type":"string"}}}}}}
